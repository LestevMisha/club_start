import{v as f}from"./verifyRecaptcha-DmfFc_Y8.js";import{i as l}from"./injectContentStylesAndScripts-Hbh6Pqhu.js";import{p as v}from"./postRequest-CW2Znu5J.js";import{r as w}from"./renderBlockTime-CAqihYew.js";import{r as p}from"./renderValidationErrors-BvGcpzpq.js";(()=>{const n=document.querySelector("#js-update-image-form"),d=n.querySelector("xloader"),u=n.querySelector("xsubmit-input"),b=u.querySelector(".js-button[type='submit']");n.addEventListener("submit",async m=>{var a,e;m.preventDefault(),d.classList.add("active");try{const s=new FormData(n),t=`${window.location.origin}/post/profile/updateImage`,r="application/x-www-form-urlencoded",o=await f();if(!(o!=null&&o.success))return l(document.body,(a=o==null?void 0:o.backend)==null?void 0:a.message);const i=await v(t,r,s);p(n,(e=i==null?void 0:i.backend)==null?void 0:e.errors),w(u,b,i==null?void 0:i.availableIn)}catch(s){console.error("Form submission error:",s)}finally{d.classList.remove("active")}});const c=document.querySelector("xbutton[data-attribute='emailVerify']"),y=c.querySelector("xloader");c.addEventListener("click",async()=>{var m,a;y.classList.add("active"),c.classList.add("pointer-events-none");try{const e=`${window.location.origin}/post/profile/verifyEmail`,s="application/x-www-form-urlencoded",t=await f();if(!(t!=null&&t.success))return l(document.body,(m=t==null?void 0:t.backend)==null?void 0:m.message);const r=await v(e,s);if(r)return l(document.body,(a=r==null?void 0:r.backend)==null?void 0:a.message)}catch(e){console.error("Form submission error:",e)}finally{y.classList.remove("active"),c.classList.remove("pointer-events-none")}})})();
