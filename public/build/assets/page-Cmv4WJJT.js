import{v as u}from"./verifyRecaptcha-DmfFc_Y8.js";import{p as f}from"./postRequest-CW2Znu5J.js";import{i as s}from"./injectContentStylesAndScripts-NbC_EnnH.js";import{r as y}from"./renderValidationErrors-DOB4wUku.js";(()=>{const r=document.querySelector("#js-store-form"),o=document.querySelector("xloader#js-store-loader"),a=document.querySelector("#js-next-step");r.addEventListener("submit",async m=>{var n,i,c;m.preventDefault(),o.classList.add("active");try{const t=await u();if(!(t!=null&&t.success))return s(document.body,(n=t==null?void 0:t.backend)==null?void 0:n.message);const d=new FormData(r),l=`${window.location.origin}/post/register/store`,e=await f(l,"application/x-www-form-urlencoded",d);(i=e==null?void 0:e.backend)!=null&&i.view&&s(a,e.backend.view),y(r,(c=e==null?void 0:e.backend)==null?void 0:c.errors)}catch(t){console.error("Form submission error:",t)}finally{o.classList.remove("active")}})})();
