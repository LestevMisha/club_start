document.querySelectorAll("countdown-circle").forEach(t=>{const l=t.getAttribute("data-loop")==="true",i=t.getAttribute("data-message-removal")==="true",n=parseInt(t.getAttribute("data-seconds"),10),m=t.getAttribute("data-size");let e=n;t.style.setProperty("--size",m),t.style.setProperty("--seconds",`${e}s`),t.style.setProperty("--seconds-half",`${e/2}s`);const r=t.querySelector("#js-countdown");r.textContent=e;function o(){e=--e<=0?l?n:0:e,r.textContent=e,e<=0&&(i&&document.body.removeChild(t.closest("message")),t.classList.add("inactive"),clearInterval(s))}let s=setInterval(o,1e3),a=0;t.addEventListener("click",()=>{const y=getComputedStyle(t).getPropertyValue("--animation-play-state")==="running",p=parseInt(new Date().getTime())-parseInt(a===0?new Date().getTime():a);clearInterval(s),y?setTimeout(()=>{t.style.setProperty("--animation-play-state","paused")},p):s=setInterval(()=>{a=new Date().getTime(),o(),t.style.setProperty("--animation-play-state","running")},1e3)})});
