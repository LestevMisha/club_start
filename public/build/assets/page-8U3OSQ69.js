import{v as f}from"./verifyRecaptcha-DmfFc_Y8.js";import{i as b}from"./injectContentStylesAndScripts-NbC_EnnH.js";import{p as y}from"./postRequest-CW2Znu5J.js";import{r as v}from"./renderBlockTime-CIrHWHiX.js";import{r as w}from"./renderValidationErrors-DOB4wUku.js";(()=>{const o=document.querySelector("#js-authenticate-form"),a=document.querySelector("xloader#js-authenticate-loader"),s=o.querySelector("xinput[data-attribute='email']"),m=o.querySelector("#js-submit-button");o.addEventListener("submit",async l=>{var n,i,c;l.preventDefault(),a.classList.add("active");try{const e=new FormData(o),u=`${window.location.origin}/post/login/authenticate`,d="application/x-www-form-urlencoded",t=await f();if(!(t!=null&&t.success))return b(document.body,(n=t==null?void 0:t.backend)==null?void 0:n.message);const r=await y(u,d,e);w(o,(i=r==null?void 0:r.backend)==null?void 0:i.errors),v(s,m,(c=r==null?void 0:r.backend)==null?void 0:c.availableIn)}catch(e){console.error("Form submission error:",e)}finally{a.classList.remove("active")}})})();
