import{r as y}from"./renderBlockTime-CAqihYew.js";import{v as w}from"./verifyRecaptcha-DmfFc_Y8.js";import{i as m}from"./injectContentStylesAndScripts-NbC_EnnH.js";import{r as p}from"./renderValidationErrors-DOB4wUku.js";import{p as v}from"./postRequest-CW2Znu5J.js";(()=>{const r=document.querySelector("#js-forgot-password-form"),a=document.querySelector("#js-forgot-password-loader"),d=r.querySelector("xinput[data-attribute='email']"),l=r.querySelector("#js-submit-button");r.addEventListener("submit",async u=>{var n,s,i,c;u.preventDefault(),a.classList.add("active");try{const e=new FormData(r),f=`${window.location.origin}/post/forgot-password/sendResetLink`,b="application/x-www-form-urlencoded",o=await w();if(!(o!=null&&o.success))return m(document.body,(n=o==null?void 0:o.backend)==null?void 0:n.message);const t=await v(f,b,e);p(r,(s=t==null?void 0:t.backend)==null?void 0:s.errors),y(d,l,(i=t==null?void 0:t.backend)==null?void 0:i.availableIn),m(document.body,(c=t==null?void 0:t.backend)==null?void 0:c.message)}catch(e){console.error("Form submission error:",e)}finally{a.classList.remove("active")}})})();
