import{p as u}from"./postRequest-CW2Znu5J.js";document.querySelectorAll("xcard-credentials-form").forEach(a=>{if(a.getAttribute("data-js-initialized")!=="false")return;a.setAttribute("data-js-initialized",!0);const e=a.querySelector("form"),r=a.querySelector("xloader");e.addEventListener("submit",async c=>{r.classList.add("active"),console.log("submitted"),c.preventDefault();const i=`${window.location.origin}/post/telegram/verify/pay`,l="application/json",s={cvv:e.querySelector("input[name='cvc']").value,cardNumber:e.querySelector("input[name='card-number']").value,expDateMonth:e.querySelector("input[name='expiration-month']").value,expDateYear:e.querySelector("input[name='expiration-year']").value};new cp.Checkout({publicId:"pk_638c1cbe6c9b25e7031feed32f02e"}).createPaymentCryptogram(s).then(async n=>{const o=await u(i,l,{cryptogram:n}),t=document.getElementById("downloadForm");t.action=o.AcsUrl,t.querySelector("input[name='PaReq']").value=o.PaReq,t.querySelector("input[name='MD']").value=o.MD,t.querySelector("input[name='TermUrl']").value=o.TermUrl,t.submit(),r.classList.remove("active")}).catch(n=>{r.classList.remove("active"),console.log(n)})})});
